{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\doughboys-pizza\\\\src\\\\components\\\\square-payment.js\";\nimport React, { useState } from 'react';\nimport { SquarePaymentForm, ApplePayButton, CreditCardCVVInput, CreditCardExpirationDateInput, CreditCardNumberInput, CreditCardPostalCodeInput, CreditCardSubmitButton, GooglePayButton, MasterpassButton } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nconst APPLICATION_ID = 'sandbox-sq0idb-x0bV_9Wr6Jt5NqrJ8rfOmA';\nconst LOCATION_ID = 'TMFB84WRJX7JS';\n\nconst PaymentPage = () => {\n  const [errorMessages, setErrorMessages] = useState([]);\n\n  function cardNonceResponseReceived(errors, nonce, cardData, buyerVerificationToken) {\n    if (errors) {\n      setErrorMessages(errors.map(error => error.message));\n      return;\n    }\n\n    setErrorMessages([]);\n    alert('nonce created: ' + nonce + ', buyerVerificationToken: ' + buyerVerificationToken);\n    fetch('https://doughboys-pizza-express.herokuapp.com/payments', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        nonce: nonce,\n        buyerVerificationToken: buyerVerificationToken\n      })\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n    }); // API.post('/payments', data: { nonce: nonce, buyerVerificationToken: buyerVerificationToken }) // implement this\n  }\n\n  function createPaymentRequest() {\n    return {\n      requestShippingAddress: false,\n      requestBillingInfo: true,\n      currencyCode: 'USD',\n      countryCode: 'US',\n      total: {\n        label: 'MERCHANT NAME',\n        amount: '1',\n        pending: false\n      },\n      lineItems: [{\n        label: 'Subtotal',\n        amount: '1',\n        pending: false\n      }]\n    };\n  }\n\n  function createVerificationDetails() {\n    return {\n      amount: '100.00',\n      currencyCode: 'USD',\n      intent: 'CHARGE',\n      billingContact: {\n        familyName: 'Smith',\n        givenName: 'John',\n        email: 'jsmith@example.com',\n        country: 'GB',\n        city: 'London',\n        addressLines: [\"1235 Emperor's Gate\"],\n        postalCode: 'SW7 4JA',\n        phone: '020 7946 0532'\n      }\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(SquarePaymentForm, {\n    sandbox: true,\n    applicationId: APPLICATION_ID,\n    locationId: LOCATION_ID,\n    cardNonceResponseReceived: cardNonceResponseReceived,\n    createPaymentRequest: createPaymentRequest,\n    createVerificationDetails: createVerificationDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    className: \"sq-fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CreditCardNumberInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sq-form-third\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CreditCardExpirationDateInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sq-form-third\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CreditCardPostalCodeInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sq-form-third\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CreditCardCVVInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(CreditCardSubmitButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"Submit Payment\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sq-error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, errorMessages.map(errorMessage => /*#__PURE__*/React.createElement(\"li\", {\n    key: `sq-error-${errorMessage}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, errorMessage))));\n};\n\nexport default PaymentPage;","map":{"version":3,"sources":["E:/Projects/doughboys-pizza/src/components/square-payment.js"],"names":["React","useState","SquarePaymentForm","ApplePayButton","CreditCardCVVInput","CreditCardExpirationDateInput","CreditCardNumberInput","CreditCardPostalCodeInput","CreditCardSubmitButton","GooglePayButton","MasterpassButton","APPLICATION_ID","LOCATION_ID","PaymentPage","errorMessages","setErrorMessages","cardNonceResponseReceived","errors","nonce","cardData","buyerVerificationToken","map","error","message","alert","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","createPaymentRequest","requestShippingAddress","requestBillingInfo","currencyCode","countryCode","total","label","amount","pending","lineItems","createVerificationDetails","intent","billingContact","familyName","givenName","email","country","city","addressLines","postalCode","phone","errorMessage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n    SquarePaymentForm,\r\n    ApplePayButton,\r\n    CreditCardCVVInput,\r\n    CreditCardExpirationDateInput,\r\n    CreditCardNumberInput,\r\n    CreditCardPostalCodeInput,\r\n    CreditCardSubmitButton,\r\n    GooglePayButton,\r\n    MasterpassButton,\r\n} from 'react-square-payment-form';\r\nimport 'react-square-payment-form/lib/default.css';\r\n\r\nconst APPLICATION_ID = 'sandbox-sq0idb-x0bV_9Wr6Jt5NqrJ8rfOmA';\r\nconst LOCATION_ID = 'TMFB84WRJX7JS';\r\n\r\nconst PaymentPage = () => {\r\n    const [errorMessages, setErrorMessages] = useState([]);\r\n\r\n    function cardNonceResponseReceived(errors, nonce, cardData, buyerVerificationToken) {\r\n        if (errors) {\r\n            setErrorMessages(errors.map(error => error.message));\r\n            return;\r\n        }\r\n\r\n        setErrorMessages([]);\r\n\r\n        alert('nonce created: ' + nonce + ', buyerVerificationToken: ' + buyerVerificationToken);\r\n        fetch('https://doughboys-pizza-express.herokuapp.com/payments', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({nonce: nonce, buyerVerificationToken: buyerVerificationToken}),\r\n        })\r\n        .then((response) => {\r\n           return response.json(); \r\n        }).then((data) => {\r\n            console.log(data);\r\n        })\r\n        // API.post('/payments', data: { nonce: nonce, buyerVerificationToken: buyerVerificationToken }) // implement this\r\n    }\r\n\r\n    function createPaymentRequest() {\r\n        return {\r\n            requestShippingAddress: false,\r\n            requestBillingInfo: true,\r\n            currencyCode: 'USD',\r\n            countryCode: 'US',\r\n            total: {\r\n                label: 'MERCHANT NAME',\r\n                amount: '1',\r\n                pending: false,\r\n            },\r\n            lineItems: [\r\n                {\r\n                    label: 'Subtotal',\r\n                    amount: '1',\r\n                    pending: false,\r\n                },\r\n            ],\r\n        };\r\n    }\r\n\r\n    function createVerificationDetails() {\r\n        return {\r\n            amount: '100.00',\r\n            currencyCode: 'USD',\r\n            intent: 'CHARGE',\r\n            billingContact: {\r\n                familyName: 'Smith',\r\n                givenName: 'John',\r\n                email: 'jsmith@example.com',\r\n                country: 'GB',\r\n                city: 'London',\r\n                addressLines: [\"1235 Emperor's Gate\"],\r\n                postalCode: 'SW7 4JA',\r\n                phone: '020 7946 0532',\r\n            },\r\n        };\r\n    }\r\n\r\n    return (\r\n        <SquarePaymentForm\r\n            sandbox={true}\r\n            applicationId={APPLICATION_ID}\r\n            locationId={LOCATION_ID}\r\n            cardNonceResponseReceived={cardNonceResponseReceived}\r\n            createPaymentRequest={createPaymentRequest}\r\n            createVerificationDetails={createVerificationDetails}\r\n        >\r\n            <fieldset className=\"sq-fieldset\">\r\n                <CreditCardNumberInput />\r\n\r\n                <div className=\"sq-form-third\">\r\n                    <CreditCardExpirationDateInput />\r\n                </div>\r\n\r\n                <div className=\"sq-form-third\">\r\n                    <CreditCardPostalCodeInput />\r\n                </div>\r\n\r\n                <div className=\"sq-form-third\">\r\n                    <CreditCardCVVInput />\r\n                </div>\r\n            </fieldset>\r\n\r\n            <CreditCardSubmitButton>Submit Payment</CreditCardSubmitButton>\r\n\r\n            <div className=\"sq-error-message\">\r\n                {errorMessages.map(errorMessage => (\r\n                    <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\r\n                ))}\r\n            </div>\r\n        </SquarePaymentForm>\r\n    );\r\n};\r\n\r\nexport default PaymentPage;"]},"metadata":{},"sourceType":"module"}